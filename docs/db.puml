@startuml er-schema
hide circle


entity "**Env**" as env {
    key: string
    --
    value: string
}

entity "**Exploit**" as exploit{
    id : number
    --
    name: string
    language: string [enum]
    hash: string
    cli: boolean
    status: string [enum]
    last_update: date
    created_at: date
}

entity "**Auth Keys**" as authkey{
    id: number
    --
    key: string
}

entity "**Flag**" as flag{
    id: number
    --
    flag: string [unique]
    status: string [enum] [indexed]
    last_submission_at: date [nullable] [indexed]
    status_text: string [nullable]
    submit_attempts: int
}

entity "**Attack-Execution**" as attack{
    id: number
    --
    start_time: date
    end_time: date
    status: string [enum]
    error: string [nullable]
    output: string [compressed, nullable]
    recieved_at: date
}

entity "**Client**" as client{
    id: number
    --
    name: string
    address: string
}

entity "**Service**" as service{
    id : number
    --
    name: string
    port: int [nullable]
}

entity "**Team**" as team{
    id : number
    --
    name: string [optional]
    shortName: string [optional]
    address: string
    created_at: string
}

entity "**Submitter**" as submitter{
    id: number
    --
    name: string
    code: bytes
    kargs: array 
}

service ||--o{ exploit
team ||--o{ attack

client ||--o{ exploit
note on link
    executing
end note

client ||--o{ exploit
note on link
    created
end note

exploit ||--o{ attack
attack ||--o{ flag

@enduml